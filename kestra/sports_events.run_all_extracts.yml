id: run_all_extracts
namespace: sports_events

tasks:
  - id: run_extracts_parallel
    type: io.kestra.plugin.core.flow.Parallel
    concurrent: 3
    tasks:

      - id: extract_rh
        type: io.kestra.plugin.core.flow.Subflow
        namespace: sports_events
        flowId: extract_rh_raw_from_s3

      - id: extract_activities
        type: io.kestra.plugin.core.flow.Subflow
        namespace: sports_events
        flowId: extract_activities_raw_from_s3

      - id: extract_sport
        type: io.kestra.plugin.core.flow.Subflow
        namespace: sports_events
        flowId: extract_sport_raw_from_s3

  - id: done
    type: io.kestra.plugin.core.debug.Return
    format: "All extract flows completed."
